(this["webpackJsonpvision-board"]=this["webpackJsonpvision-board"]||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(40),r=n.n(c),o=(n(68),n(12)),s=n.n(o),i=n(20),l=n(15),d=n(9),u=n(4),j=n(14),h=n.n(j),b=function(e){return h.a.get("/api/".concat(e,"/boards"))},O=function(e){return h.a.get("/api/boards/".concat(e))},p=function(e){return h.a.get("/api/users/".concat(e))},f=function(e){return h.a.post("/api/login",e)},g=function(e){return h.a.post("/api/users",e)},m=function(e){return h.a.post("/api/boards/".concat(e,"/new"))},x=function(e,t){return h.a.put("/api/boards/".concat(e),t)},v=function(e,t){return h.a.post("/api/".concat(t,"/uploads"),e)},w=function(e){return h.a.get("/api/".concat(e,"/uploads"))},y=function(e){return h.a.delete("/api/uploads/".concat(e))},N=function(e){return h.a.post("/api/addImage",e)},C=function(e){return h.a.get("/api/".concat(e,"/images"))},S=function(e){return h.a.delete("/api/images/".concat(e))},k=function(e,t){return h.a.post("/api/".concat(t,"/links"),e)},B=function(e){return h.a.get("/api/".concat(e,"/links"))},I=function(e){return h.a.delete("/api/links/".concat(e))},R=n(2);var D=function(){return Object(R.jsx)(u.Navbar,{alignLinks:"left",brand:Object(R.jsx)("a",{className:"brand-logo right",href:"/",children:"Vision Boarder"}),id:"mobile-nav",menuIcon:Object(R.jsx)(u.Icon,{children:"menu"}),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0},children:Object(R.jsx)(u.NavItem,{children:Object(R.jsx)(i.b,{to:"/login",children:"Log in"})})})};var L=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),o=Object(d.a)(r,2),i=o[0],j=o[1],h=Object(a.useState)(),b=Object(d.a)(h,2),O=b[0],p=b[1],f=Object(a.useState)(),m=Object(d.a)(f,2),x=m[0],v=m[1],w=Object(a.useState)(),y=Object(d.a)(w,2),N=y[0],C=y[1],S=Object(l.f)();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(D,{}),Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.Col,{m:8,s:12,children:Object(R.jsx)(u.CardPanel,{className:"teal",children:Object(R.jsx)("span",{className:"white-text",children:"Welcome to Vision Boarder! Sign up with your name and email address below."})})})}),Object(R.jsx)(u.Row,{children:Object(R.jsxs)(u.Col,{id:"signupForm",m:6,s:12,children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{id:"firstName",name:"firstName",label:"First name",placeholder:"Jackie",onChange:function(e){return c(e.target.value)}})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{id:"lastName",name:"lastName",label:"Last name",placeholder:"Smith",onChange:function(e){return j(e.target.value)}})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{email:!0,id:"userEmail",name:"email",label:"Email",validate:!0,onChange:function(e){return p(e.target.value)}})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{id:"userPassword",name:"password",label:"Password",password:!0,onChange:function(e){return v(e.target.value)}})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{id:"confirmPassword",label:"Confirm Password",name:"confirmPassword",password:!0,onChange:function(e){return C(e.target.value)}})})]})}),Object(R.jsx)(u.Row,{children:Object(R.jsxs)(u.Button,{node:"button",type:"button",waves:"light",onClick:function(e){if(e.preventDefault(),x!==N)s.a.toast({html:"Oops! Password fields do not match."});else if(""===n||""===i)s.a.toast({html:"Oops! Please enter your full name."});else if(document.querySelector("#userEmail").classList.contains("invalid"))s.a.toast({html:"Oops! Please enter a valid email address."}),p("");else if(""===x||void 0===x||x.length<6||""===N)s.a.toast({html:"Oops! Please enter a password of at least 6 characters."});else{g({firstName:n,lastName:i,userName:n+i,email:O,password:x}).then((function(e){console.log(e),s.a.toast({html:"Signed up successfully!"}),S.push("/login")})).catch((function(e){e&&s.a.toast({html:"Oops! Looks like there was an issue signing you up. Please try again in a few minutes."})}))}},children:["Sign up",Object(R.jsx)(u.Icon,{right:!0,children:"send"})]})})]})]})},P=n(29),U=n(63),T=n(28),E=Object(a.createContext)({user:{}}),A=E.Provider;function F(e,t){switch(t.type){case"setCurrentUser":return[].concat(Object(T.a)(e),[{user:t.payload}]);case"setCurrentBoard":return[].concat(Object(T.a)(e),[{currentBoard:t.payload}]);case"logoutUser":return[].concat(Object(T.a)(e),[{user:t.payload}]);default:return e}}function V(e){e.value;var t=Object(U.a)(e,["value"]),n=Object(a.useReducer)(F,[]),c=Object(d.a)(n,2),r=c[0],o=c[1];return Object(R.jsx)(A,Object(P.a)({value:{state:r,dispatch:o}},t))}function q(){return Object(a.useContext)(E)}var z=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),i=o[0],j=o[1],h=Object(l.f)(),b=q(),O=(b.state,b.dispatch);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(D,{}),Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.Col,{m:8,s:12,children:Object(R.jsx)(u.CardPanel,{className:"teal",children:Object(R.jsx)("span",{className:"white-text",children:"Welcome back to Vision Boarder! Sign in with your email address and password below."})})})}),Object(R.jsx)(u.Row,{children:Object(R.jsxs)(u.Col,{m:6,s:12,children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{id:"userEmail",name:"email",label:"Email",validate:!0,onChange:function(e){return c(e.target.value)}})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{password:!0,id:"userPassword",name:"password",label:"Password",placeholder:i,onChange:function(e){return j(e.target.value)}})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.Button,{onClick:function(e){(e.preventDefault(),document.querySelector("#userEmail").classList.contains("invalid"))?(s.a.toast({html:"Oops! Looks like that email is invalid. Try again."}),c("")):f({email:n,password:i}).then((function(e){404===e.statusCode?s.a.toast({html:"Oops! Looks like your account wasn't found. Try again."}):(O({type:"setCurrentUser",payload:e.data}),h.push("/users/".concat(e.data.userName)))})).catch((function(e){return console.error(e)}))},large:!0,node:"button",style:{marginRight:"5px"},waves:"light",children:"Sign in"})})]})})]})]})};var _=function(e){return Object(R.jsxs)(u.Navbar,{alignLinks:"right",brand:Object(R.jsx)("a",{className:"brand-logo",href:"/login",children:"Vision Boarder"}),id:"mobile-nav",menuIcon:Object(R.jsx)(u.Icon,{children:"menu"}),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0},sidenav:Object(R.jsxs)(u.SideNav,{id:"SideNav-10",options:{draggable:!0},trigger:Object(R.jsx)(u.Button,{node:"button",children:"My Boards"}),children:[e.currentUserBoards?e.currentUserBoards.map((function(t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(u.SideNavItem,{children:Object(R.jsx)("a",{href:"/boards/".concat(t.id),id:t.id,onClick:e.handleBoardSelect,children:t.name})},t.id),Object(R.jsx)(u.SideNavItem,{divider:!0})]})})):Object(R.jsx)("p",{children:"Loading..."}),Object(R.jsx)(u.SideNavItem,{children:Object(R.jsx)(u.Button,{large:!0,id:"newBoardBtn",node:"button",style:{marginRight:"5px"},waves:"light",onClick:e.handleNewBoard,children:"Create New Board"})}),Object(R.jsx)(u.SideNavItem,{children:Object(R.jsx)(i.b,{to:"/",onClick:e.handleLogout,children:"Log out"})})]}),children:[Object(R.jsx)(u.Dropdown,{id:"Dropdown_7",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:Object(R.jsxs)(i.b,{children:["My Boards",Object(R.jsx)(u.Icon,{right:!0,children:"arrow_drop_down"})]}),children:e.currentUserBoards?e.currentUserBoards.map((function(t){return Object(R.jsx)("a",{href:"/boards/".concat(t.id),onClick:e.handleBoardSelect,children:t.name},t.id)})):Object(R.jsx)("p",{children:"Loading..."})}),Object(R.jsx)(u.NavItem,{children:Object(R.jsx)(u.Button,{large:!0,id:"newBoardBtn2",node:"button",style:{marginRight:"5px"},waves:"light",onClick:e.handleNewBoard,children:"Create New Board"})}),Object(R.jsx)(u.NavItem,{children:Object(R.jsx)(i.b,{to:"/",onClick:e.handleLogout,children:"Log out"})})]})},H=n(62),W=n(30);W.a.initializeApp({apiKey:"AIzaSyAc6AeqA_ePg70BX04lrb2j8aw7J24f4lg",authDomain:"vision-boarder.firebaseapp.com",projectId:"vision-boarder",storageBucket:"vision-boarder.appspot.com",messagingSenderId:"729873887848",appId:"1:729873887848:web:91726957fb9d66f97d01dd",measurementId:"G-DB8H24C33C"});var J=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useCallback)((function(e){r((function(t){return[].concat(Object(T.a)(t),Object(T.a)(e))}))}),[]),i=Object(H.a)({onDrop:o,accept:"image/jpeg, image/png, application/pdf"}),l=i.getRootProps,j=i.getInputProps,h=i.isDragActive,b=i.isDragReject;return Object(R.jsx)("section",{className:"container",children:Object(R.jsxs)("div",Object(P.a)(Object(P.a)({id:"dropzone"},l({className:"dropzone"})),{},{children:[Object(R.jsx)("input",Object(P.a)({},j())),!h&&"Click here or drop a file to upload!",h&&!b&&"Drop it like it's hot!",b&&"File type not accepted, sorry!",Object(R.jsxs)(u.Row,{children:[Object(R.jsx)("p",{children:"Files:"}),Object(R.jsx)("ul",{children:c.map((function(e){return Object(R.jsx)("li",{children:e.path})}))})]}),Object(R.jsx)(u.Button,{className:"orange darken-3",onClick:function(t){t.stopPropagation(),c?(c.forEach((function(t){!function(e,t){var n=W.a.storage().ref(),a={contentType:e.type},c=n.child("images/"+e.name).put(e,a);c.on(W.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case W.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case W.a.storage.TaskState.RUNNING:console.log("Upload is running");break;default:console.log("No upload currently")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":break;default:console.log("No upload currently")}}),(function(){var e=parseInt(t);c.snapshot.ref.getDownloadURL().then((function(t){v({url:t},e).then((function(e){console.log("File saved successfully",e)})).catch((function(e){return console.error(e)}))}))}))}(t,e.bid)})),s.a.toast({html:"File(s) saved to ".concat(e.boardName," successfully!")}),r([])):s.a.toast({html:"Please drag and drop or select a file to upload."})},children:"Upload"})]}))})},G=function(e){return h.a.get("https://pixabay.com/api/?key=20053744-d90ffc8b7653149ca73d2a0ac&q="+e)};var M=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(),s=Object(d.a)(o,2),i=s[0],l=s[1];return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(u.Col,{l:6,s:12,children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(R.jsx)("span",{className:"white-text",children:"Search Pixabay to Add Photos"})})}),Object(R.jsxs)("div",{id:"pixabay",children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{style:{width:500},name:"currentSearch",icon:"search",label:"Search...",value:c,onChange:function(e){e.preventDefault(),r(e.target.value),G(c).then((function(e){l(e.data.hits)})).catch((function(e){return console.error(e)}))}})}),Object(R.jsx)(u.Row,{id:"pixRow",children:i?Object(R.jsx)(R.Fragment,{children:i.map((function(t,n){return Object(R.jsx)(u.Card,{id:t.webformatURL,className:"hoverable pix",actions:[Object(R.jsx)(u.Button,{className:"orange darken-3",onClick:e.handleImgSave,children:"Save to Board"})],header:Object(R.jsx)(u.CardTitle,{image:t.webformatURL,children:Object(R.jsx)("span",{className:"imgCardTitle",children:t.tags})})},n)}))}):Object(R.jsx)("div",{id:"nosearch",children:Object(R.jsx)("h5",{children:"No search data yet"})})})]})]})})};var K=function(e){var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(),i=Object(d.a)(o,2),l=i[0],j=i[1];return Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.TextInput,{id:"addLink",label:"Add a link...",value:c,style:{width:400},onChange:function(e){return r(e.target.value)}})}),Object(R.jsxs)(u.Row,{children:[Object(R.jsxs)(u.Select,{id:"typeSelect",multiple:!1,onChange:function(){},options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(R.jsx)("option",{value:"inspiration",children:"Inspiration"}),Object(R.jsx)("option",{value:"research",children:"Research"}),Object(R.jsx)("option",{value:"video",children:"Video"})]}),Object(R.jsx)(u.Button,{className:"orange darken-3",onClick:function(t){var n=document.querySelector("#typeSelect");t.preventDefault(),j(n.options[n.selectedIndex].value),k({url:c,type:l},e.bid).then((function(e){e.data?(s.a.toast({html:"Link saved!"}),r("")):s.a.toast({html:"Hmm, looks like there was an error saving that link. Try again."})})).catch((function(e){return console.error(e)}))},children:"Save"})]})]})};var X=function(){var e=q(),t=(e.state,e.dispatch),n=Object(a.useState)(),c=Object(d.a)(n,2),r=c[0],o=c[1],i=Object(l.g)().bid,j=Object(a.useState)(),h=Object(d.a)(j,2),f=h[0],g=h[1],v=Object(a.useState)(),w=Object(d.a)(v,2),y=w[0],C=w[1],S=Object(a.useState)(""),k=Object(d.a)(S,2),B=k[0],I=k[1],D=Object(l.f)();return Object(a.useEffect)((function(){O(i).then((function(e){g(e.data),b(e.data.UserId).then((function(e){C(e.data)})).catch((function(e){return console.error(e)})),p(e.data.UserId).then((function(e){o(e.data)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}),[i]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(_,{currentUserBoards:y,handleBoardSelect:function(e){var n=e.target.id;O(n).then((function(e){t({type:"setCurrentBoard",payload:e.data})})).then((function(){D.push("/boards/".concat(n))})).catch((function(e){return console.error(e)}))},handleNewBoard:function(e){e.preventDefault(),m(r.id).then((function(e){console.log(e),t({type:"setCurrentUser",payload:r}),D.push("/boards/new/".concat(e.data.id))})).catch((function(e){return console.error(e)}))},handleLogout:function(e){e.preventDefault(),D.push("/")}}),f?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(u.Row,{children:[Object(R.jsx)(u.Col,{s:12,l:6,children:Object(R.jsx)("div",{id:"newBoardName",children:Object(R.jsx)(u.TextInput,{style:{width:500},id:"name",label:"Board Name",name:"boardName",placeholder:"New Board",value:B,onChange:function(e){return I(e.target.value)}})})}),Object(R.jsx)(u.Col,{s:12,l:6,children:Object(R.jsx)("div",{className:"container",children:Object(R.jsxs)(u.Button,{className:"orange darken-3",onClick:function(e){e.preventDefault(),""===B?s.a.toast({html:"Looks like your board doesn't have a name..."}):x(parseInt(f.id),{name:B}).then((function(e){console.log(e),s.a.toast({html:"".concat(B," saved!")}),t({type:"setCurrentBoard",payload:f}),D.push("/boards/".concat(f.id))}))},children:["Save ",B]})})})]}),Object(R.jsxs)(u.Row,{children:[Object(R.jsxs)(u.Col,{l:6,s:12,children:[Object(R.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(R.jsx)("span",{className:"white-text",children:"Add Personal Images and Files (PDF, .jpeg, or .png)"})}),Object(R.jsx)(J,{bid:f.id,boardName:B}),Object(R.jsxs)(u.Row,{children:[Object(R.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(R.jsx)("span",{className:"white-text",children:"Add Inspiration, Research, or Video Links from the web"})}),Object(R.jsx)(K,{bid:f.id})]})]}),Object(R.jsx)(M,{handleImgSave:function(e){e.preventDefault(),e.persist();var t=e.target.parentNode.parentNode.getAttribute("id");N({img:t,bid:f.id}).then((function(t){t.data?(s.a.toast({html:"Image saved to ".concat(B," successfully!")}),e.target.parentNode.parentNode.style.opacity="0.2",e.target.style.visibility="hidden"):s.a.toast({html:"Hmm, we ran into an issue saving that image. Please try again."})})).catch((function(e){return console.error(e)}))}})]})]}):Object(R.jsx)("p",{children:"Finding that board..."})]})};var Q=function(){var e=q(),t=(e.state,e.dispatch),n=Object(l.g)().bid,c=Object(a.useState)(),r=Object(d.a)(c,2),o=r[0],i=r[1],j=Object(a.useState)(),h=Object(d.a)(j,2),f=h[0],g=h[1],v=Object(a.useState)(),k=Object(d.a)(v,2),D=k[0],L=k[1],P=Object(a.useState)(),U=Object(d.a)(P,2),T=U[0],E=U[1],A=Object(a.useState)([]),F=Object(d.a)(A,2),V=F[0],z=F[1],H=Object(a.useState)(),W=Object(d.a)(H,2),G=W[0],X=W[1],Q=Object(a.useState)(),Y=Object(d.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(a.useState)(""),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),re=Object(d.a)(ce,2),oe=re[0],se=re[1],ie=Object(l.f)();Object(a.useEffect)((function(){O(n).then((function(e){i(e.data),L(e.data.UserId),b(e.data.UserId).then((function(e){g(e.data)})).catch((function(e){return console.error(e)})),p(e.data.UserId).then((function(e){E(e.data)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)})),w(n).then((function(e){z(e.data)})).catch((function(e){return console.error(e)})),C(n).then((function(e){X(e.data)})).catch((function(e){return console.error(e)})),B(n).then((function(e){$(e.data)})).catch((function(e){return console.error(e)}))}),[n]);var le=function(e){e.preventDefault(),e.persist();var t=e.target.getAttribute("id");y(t).then((function(t){console.log(t),e.target.parentNode.classList.add("disabled"),s.a.toast({html:"Upload deleted!"})})).catch((function(e){return console.error(e)}))},de=function(e){e.preventDefault(),e.persist();var t=e.target.getAttribute("id");S(t).then((function(t){console.log(t),e.target.parentNode.classList.add("disabled"),s.a.toast({html:"Image deleted!"})})).catch((function(e){return console.error(e)}))},ue=function(e){e.preventDefault(),e.stopPropagation(),e.persist();var t=e.target.getAttribute("id");I(t).then((function(t){console.log(t),e.target.parentNode.classList.add("disabled"),s.a.toast({html:"Link deleted!"})})).catch((function(e){return console.error(e)}))};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(_,{currentUserBoards:f,handleBoardSelect:function(e){var n=e.target.id;O(n).then((function(e){t({type:"setCurrentBoard",payload:e.data})})).then((function(){ie.push("/boards/".concat(n))})).catch((function(e){return console.error(e)}))},handleNewBoard:function(){p(D).then((function(e){E(e.data)})).then((function(){m(D).then((function(e){t({type:"setCurrentUser",payload:T}),ie.push("/boards/new/".concat(e.data.id))})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))},handleLogout:function(e){e.preventDefault(),ie.push("/")}}),Object(R.jsx)(u.Row,{children:o?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{id:"boardViewName",children:Object(R.jsx)("h2",{children:o.name})}),Object(R.jsx)("div",{id:"boardViewRename",children:Object(R.jsx)("h4",{children:Object(R.jsx)(u.TextInput,{id:"updateBoardName",value:ne,onChange:function(e){return ae(e.target.value)}})})}),Object(R.jsx)(u.Button,{onClick:function(e){e.preventDefault(),e.persist(),document.querySelectorAll(".deleteImgBtn").forEach((function(e){return e.style.display="inline"})),document.querySelectorAll(".deleteUploadBtn").forEach((function(e){return e.style.display="inline"})),document.querySelectorAll(".deleteLinkBtn").forEach((function(e){return e.style.display="inline"})),document.querySelector("#boardViewRename").style.display="inline",document.querySelector("#boardSaveBtn").style.display="inline",e.target.style.display="none",se(!0)},children:"Edit"}),Object(R.jsx)(u.Button,{className:"red darken-2",id:"boardSaveBtn",onClick:function(e){e.preventDefault(),""!==ne?x(o.id,{name:ne}).then((function(e){e.data&&window.location.reload()})).catch((function(e){return console.error(e)})):window.location.reload()},children:"Save"})]}):Object(R.jsx)("p",{children:"Finding that board..."})}),Object(R.jsxs)(u.Row,{children:[Object(R.jsx)(u.Col,{s:12,l:8,children:V?V.map((function(e){return Object(R.jsx)(u.Card,{actions:[Object(R.jsx)(u.Button,{id:e.id,className:"red deleteUploadBtn",onClick:le,icon:Object(R.jsx)(u.Icon,{id:e.id,children:"delete"}),alt:"Remove this upload",node:"button",waves:"light"},e.id)],header:Object(R.jsx)(u.CardTitle,{image:e.url}),horizontal:!0,className:"hoverable boardViewUpload",children:"Tags:"},e.id)})):Object(R.jsx)("h4",{children:"Loading uploads..."})}),Object(R.jsxs)(u.Col,{s:12,l:4,children:[Object(R.jsx)(u.Row,{children:G?G.map((function(e){return Object(R.jsx)(u.Card,{actions:[Object(R.jsx)(u.Button,{id:e.id,className:"red deleteImgBtn",onClick:de,icon:Object(R.jsx)(u.Icon,{id:e.id,children:"delete"}),alt:"Remove this image",node:"button",waves:"light"},e.id)],header:Object(R.jsx)(u.CardTitle,{image:e.url}),horizontal:!0,className:"hoverable boardViewImg",children:"Tags:"},e.id)})):Object(R.jsx)("h4",{children:"Loading images..."})}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.Collection,{header:"Links",children:Z?Z.map((function(e){return Object(R.jsxs)(u.CollectionItem,{href:e.url,target:"_blank",children:[e.url," - ",e.type,Object(R.jsx)(u.Button,{id:e.id,className:"deleteLinkBtn",onClick:ue,icon:Object(R.jsx)(u.Icon,{id:e.id,children:"delete"}),alt:"Remove this link",node:"button",waves:"light"})]},e.id)})):Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Loading links..."})})})})]})]}),oe?Object(R.jsxs)(u.Row,{children:[Object(R.jsxs)(u.Col,{l:6,s:12,children:[Object(R.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(R.jsx)("span",{className:"white-text",children:"Add Personal Images and Files (PDF, .jpeg, or .png)"})}),Object(R.jsx)(J,{bid:o.id,boardName:o.name}),Object(R.jsxs)(u.Row,{children:[Object(R.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(R.jsx)("span",{className:"white-text",children:"Add Inspiration, Research, or Video Links from the web"})}),Object(R.jsx)(K,{bid:o.id})]})]}),Object(R.jsx)(M,{handleImgSave:function(e){e.preventDefault(),e.persist();var t=e.target.parentNode.parentNode.getAttribute("id");N({img:t,bid:o.id}).then((function(t){t.data?(s.a.toast({html:"Image saved to ".concat(o.name," successfully!")}),e.target.parentNode.parentNode.style.opacity="0.2",e.target.style.visibility="hidden"):s.a.toast({html:"Hmm, we ran into an issue saving that image. Please try again."})})).catch((function(e){return console.error(e)}))}})]}):Object(R.jsx)("div",{})]})};var Y=function(){var e=q(),t=e.state,n=e.dispatch,c=t[0].user,r=Object(a.useState)(),o=Object(d.a)(r,2),s=o[0],i=o[1],j=Object(l.f)();return Object(a.useEffect)((function(){b(c.id).then((function(e){i(e.data)})).catch((function(e){return console.error(e)}))}),[c.id]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(_,{currentUserBoards:s,handleBoardSelect:function(e){var t=e.target.id;O(t).then((function(e){n({type:"setCurrentBoard",payload:e.data})})).then((function(){j.push("/boards/".concat(t))})).catch((function(e){return console.error(e)}))},handleNewBoard:function(){m(c.id).then((function(e){console.log(e),n({type:"setCurrentUser",payload:c}),j.push("/boards/new/".concat(e.data.id))})).catch((function(e){return console.error(e)}))},handleLogout:function(e){e.preventDefault(),n({type:"logoutUser",payload:""}),j.push("/")}}),Object(R.jsx)(u.Row,{children:Object(R.jsx)(u.Col,{m:6,s:12,children:Object(R.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(R.jsxs)("span",{className:"white-text",children:["Welcome back to Vision Boarder, ",c.firstName,". Select a board or click Create New Board to get started."]})})})})]})};var Z=function(){return Object(R.jsx)("div",{children:Object(R.jsx)(V,{children:Object(R.jsx)(i.a,{children:Object(R.jsxs)(l.c,{children:[Object(R.jsx)(l.a,{exact:!0,path:"/",children:Object(R.jsx)(L,{})}),Object(R.jsx)(l.a,{path:"/login",children:Object(R.jsx)(z,{})}),Object(R.jsx)(l.a,{path:"/users/:userName",children:Object(R.jsx)(Y,{})}),Object(R.jsx)(l.a,{path:"/boards/new/:bid",children:Object(R.jsx)(X,{})}),Object(R.jsx)(l.a,{path:"/boards/:bid",children:Object(R.jsx)(Q,{})})]})})})})};r.a.render(Object(R.jsx)(Z,{}),document.getElementById("root"))},68:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.ef665691.chunk.js.map