(this["webpackJsonpvision-board"]=this["webpackJsonpvision-board"]||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(40),r=n.n(c),o=(n(68),n(12)),s=n.n(o),i=n(20),l=n(15),d=n(9),u=n(4),j=n(14),b=n.n(j),h=function(e){return b.a.get("/api/".concat(e,"/boards"))},O=function(e){return b.a.get("/api/boards/".concat(e))},p=function(e){return b.a.get("/api/users/".concat(e))},f=function(e){return b.a.post("/api/login",e)},g=function(e){return b.a.post("/api/users",e)},m=function(e){return b.a.post("/api/boards/".concat(e,"/new"))},x=function(e,t){return b.a.put("/api/boards/".concat(e),t)},v=function(e,t){return b.a.post("/api/".concat(t,"/uploads"),e)},w=function(e){return b.a.get("/api/".concat(e,"/uploads"))},N=function(e){return b.a.delete("/api/uploads/".concat(e))},y=function(e){return b.a.post("/api/addImage",e)},C=function(e){return b.a.get("/api/".concat(e,"/images"))},S=function(e){return b.a.delete("/api/images/".concat(e))},k=function(e,t){return b.a.post("/api/tags/".concat(e),t)},B=function(e){return b.a.get("/api/".concat(e,"/tags"))},I=function(e){return b.a.delete("/api/tags/".concat(e))},R=function(e,t){return b.a.post("/api/".concat(t,"/links"),e)},D=function(e){return b.a.get("/api/".concat(e,"/links"))},L=function(e){return b.a.delete("/api/links/".concat(e))},T=n(2);var P=function(){return Object(T.jsx)(u.Navbar,{alignLinks:"left",brand:Object(T.jsx)("a",{className:"brand-logo right",href:"/",children:"Vision Boarder"}),id:"mobile-nav",menuIcon:Object(T.jsx)(u.Icon,{children:"menu"}),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0},children:Object(T.jsx)(u.NavItem,{children:Object(T.jsx)(i.b,{to:"/login",children:"Log in"})})})};var U=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),o=Object(d.a)(r,2),i=o[0],j=o[1],b=Object(a.useState)(),h=Object(d.a)(b,2),O=h[0],p=h[1],f=Object(a.useState)(),m=Object(d.a)(f,2),x=m[0],v=m[1],w=Object(a.useState)(),N=Object(d.a)(w,2),y=N[0],C=N[1],S=Object(l.f)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P,{}),Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.Col,{m:8,s:12,children:Object(T.jsx)(u.CardPanel,{className:"teal",children:Object(T.jsx)("span",{className:"white-text",children:"Welcome to Vision Boarder! Sign up with your name and email address below."})})})}),Object(T.jsx)(u.Row,{children:Object(T.jsxs)(u.Col,{id:"signupForm",m:6,s:12,children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{id:"firstName",name:"firstName",label:"First name",placeholder:"Jackie",onChange:function(e){return c(e.target.value)}})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{id:"lastName",name:"lastName",label:"Last name",placeholder:"Smith",onChange:function(e){return j(e.target.value)}})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{email:!0,id:"userEmail",name:"email",label:"Email",validate:!0,onChange:function(e){return p(e.target.value)}})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{id:"userPassword",name:"password",label:"Password",password:!0,onChange:function(e){return v(e.target.value)}})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{id:"confirmPassword",label:"Confirm Password",name:"confirmPassword",password:!0,onChange:function(e){return C(e.target.value)}})})]})}),Object(T.jsx)(u.Row,{children:Object(T.jsxs)(u.Button,{node:"button",type:"button",waves:"light",onClick:function(e){if(e.preventDefault(),x!==y)s.a.toast({html:"Oops! Password fields do not match."});else if(""===n||""===i)s.a.toast({html:"Oops! Please enter your full name."});else if(document.querySelector("#userEmail").classList.contains("invalid"))s.a.toast({html:"Oops! Please enter a valid email address."}),p("");else if(""===x||void 0===x||x.length<6||""===y)s.a.toast({html:"Oops! Please enter a password of at least 6 characters."});else{g({firstName:n,lastName:i,userName:n+i,email:O,password:x}).then((function(e){console.log(e),s.a.toast({html:"Signed up successfully!"}),S.push("/login")})).catch((function(e){e&&s.a.toast({html:"Oops! Looks like there was an issue signing you up. Please try again in a few minutes."})}))}},children:["Sign up",Object(T.jsx)(u.Icon,{right:!0,children:"send"})]})})]})]})},E=n(29),A=n(63),F=n(28),V=Object(a.createContext)({user:{}}),q=V.Provider;function z(e,t){switch(t.type){case"setCurrentUser":return[].concat(Object(F.a)(e),[{user:t.payload}]);case"setCurrentBoard":return[].concat(Object(F.a)(e),[{currentBoard:t.payload}]);case"logoutUser":return[].concat(Object(F.a)(e),[{user:t.payload}]);default:return e}}function _(e){e.value;var t=Object(A.a)(e,["value"]),n=Object(a.useReducer)(z,[]),c=Object(d.a)(n,2),r=c[0],o=c[1];return Object(T.jsx)(q,Object(E.a)({value:{state:r,dispatch:o}},t))}function H(){return Object(a.useContext)(V)}var W=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),i=o[0],j=o[1],b=Object(l.f)(),h=H(),O=(h.state,h.dispatch);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P,{}),Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.Col,{m:8,s:12,children:Object(T.jsx)(u.CardPanel,{className:"teal",children:Object(T.jsx)("span",{className:"white-text",children:"Welcome back to Vision Boarder! Sign in with your email address and password below."})})})}),Object(T.jsx)(u.Row,{children:Object(T.jsxs)(u.Col,{m:6,s:12,children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{id:"userEmail",name:"email",label:"Email",validate:!0,onChange:function(e){return c(e.target.value)}})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{password:!0,id:"userPassword",name:"password",label:"Password",placeholder:i,onChange:function(e){return j(e.target.value)}})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.Button,{onClick:function(e){(e.preventDefault(),document.querySelector("#userEmail").classList.contains("invalid"))?(s.a.toast({html:"Oops! Looks like that email is invalid. Try again."}),c("")):f({email:n,password:i}).then((function(e){404===e.statusCode?s.a.toast({html:"Oops! Looks like your account wasn't found. Try again."}):(O({type:"setCurrentUser",payload:e.data}),b.push("/users/".concat(e.data.userName)))})).catch((function(e){return console.error(e)}))},large:!0,node:"button",style:{marginRight:"5px"},waves:"light",children:"Sign in"})})]})})]})]})};var J=function(e){return Object(T.jsxs)(u.Navbar,{alignLinks:"right",brand:Object(T.jsx)("a",{className:"brand-logo",href:"/login",children:"Vision Boarder"}),id:"mobile-nav",menuIcon:Object(T.jsx)(u.Icon,{children:"menu"}),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0},sidenav:Object(T.jsxs)(u.SideNav,{id:"SideNav-10",options:{draggable:!0},trigger:Object(T.jsx)(u.Button,{node:"button",children:"My Boards"}),children:[e.currentUserBoards?e.currentUserBoards.map((function(t){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(u.SideNavItem,{children:Object(T.jsx)("a",{href:"/boards/".concat(t.id),id:t.id,onClick:e.handleBoardSelect,children:t.name})},t.id),Object(T.jsx)(u.SideNavItem,{divider:!0})]})})):Object(T.jsx)("p",{children:"Loading..."}),Object(T.jsx)(u.SideNavItem,{children:Object(T.jsx)(u.Button,{large:!0,id:"newBoardBtn",node:"button",style:{marginRight:"5px"},waves:"light",onClick:e.handleNewBoard,children:"Create New Board"})}),Object(T.jsx)(u.SideNavItem,{children:Object(T.jsx)(i.b,{to:"/",onClick:e.handleLogout,children:"Log out"})})]}),children:[Object(T.jsx)(u.Dropdown,{id:"Dropdown_7",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:Object(T.jsxs)(i.b,{children:["My Boards",Object(T.jsx)(u.Icon,{right:!0,children:"arrow_drop_down"})]}),children:e.currentUserBoards?e.currentUserBoards.map((function(t){return Object(T.jsx)("a",{href:"/boards/".concat(t.id),onClick:e.handleBoardSelect,children:t.name},t.id)})):Object(T.jsx)("p",{children:"Loading..."})}),Object(T.jsx)(u.NavItem,{children:Object(T.jsx)(u.Button,{large:!0,id:"newBoardBtn2",node:"button",style:{marginRight:"5px"},waves:"light",onClick:e.handleNewBoard,children:"Create New Board"})}),Object(T.jsx)(u.NavItem,{children:Object(T.jsx)(i.b,{to:"/",onClick:e.handleLogout,children:"Log out"})})]})},G=n(62),M=n(30);M.a.initializeApp({apiKey:"AIzaSyAc6AeqA_ePg70BX04lrb2j8aw7J24f4lg",authDomain:"vision-boarder.firebaseapp.com",projectId:"vision-boarder",storageBucket:"vision-boarder.appspot.com",messagingSenderId:"729873887848",appId:"1:729873887848:web:91726957fb9d66f97d01dd",measurementId:"G-DB8H24C33C"});var K=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useCallback)((function(e){r((function(t){return[].concat(Object(F.a)(t),Object(F.a)(e))}))}),[]),i=Object(G.a)({onDrop:o,accept:"image/jpeg, image/png"}),l=i.getRootProps,j=i.getInputProps,b=i.isDragActive,h=i.isDragReject;return Object(T.jsx)("section",{className:"container",children:Object(T.jsxs)("div",Object(E.a)(Object(E.a)({id:"dropzone"},l({className:"dropzone"})),{},{children:[Object(T.jsx)("input",Object(E.a)({},j())),!b&&"Click here or drop a file to upload!",b&&!h&&"Drop it like it's hot!",h&&"File type not accepted, sorry!",Object(T.jsxs)(u.Row,{children:[Object(T.jsx)("p",{children:"Files:"}),Object(T.jsx)("ul",{children:c.map((function(e){return Object(T.jsx)("li",{children:e.path})}))})]}),Object(T.jsx)(u.Button,{className:"orange darken-3",onClick:function(t){t.stopPropagation(),c?(c.forEach((function(t){!function(e,t){var n=M.a.storage().ref(),a={contentType:e.type},c=n.child("images/"+e.name).put(e,a);c.on(M.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case M.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case M.a.storage.TaskState.RUNNING:console.log("Upload is running");break;default:console.log("No upload currently")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":break;default:console.log("No upload currently")}}),(function(){var e=parseInt(t);c.snapshot.ref.getDownloadURL().then((function(t){v({url:t},e).then((function(e){console.log("File saved successfully",e)})).catch((function(e){return console.error(e)}))}))}))}(t,e.bid)})),s.a.toast({html:"File(s) saved to ".concat(e.boardName," successfully!")}),r([])):s.a.toast({html:"Please drag and drop or select a file to upload."})},children:"Upload"})]}))})},X=function(e){return b.a.get("https://pixabay.com/api/?key=20053744-d90ffc8b7653149ca73d2a0ac&q="+e)};var Q=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(),s=Object(d.a)(o,2),i=s[0],l=s[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(u.Col,{l:6,s:12,children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(T.jsx)("span",{className:"white-text",children:"Search Pixabay to Add Photos"})})}),Object(T.jsxs)("div",{id:"pixabay",children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{style:{width:500},name:"currentSearch",icon:"search",label:"Search...",value:c,onChange:function(e){e.preventDefault(),r(e.target.value),X(c).then((function(e){l(e.data.hits)})).catch((function(e){return console.error(e)}))}})}),Object(T.jsx)(u.Row,{id:"pixRow",children:i?Object(T.jsx)(T.Fragment,{children:i.map((function(t,n){return Object(T.jsx)(u.Card,{id:t.webformatURL,className:"hoverable pix",actions:[Object(T.jsx)(u.Button,{className:"orange darken-3",onClick:e.handleImgSave,children:"Save to Board"})],header:Object(T.jsx)(u.CardTitle,{image:t.webformatURL,children:Object(T.jsx)("span",{className:"imgCardTitle",children:t.tags})})},n)}))}):Object(T.jsx)("div",{id:"nosearch",children:Object(T.jsx)("h5",{children:"No search data yet"})})})]})]})})};var Y=function(e){var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(),i=Object(d.a)(o,2),l=i[0],j=i[1];return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.TextInput,{id:"addLink",label:"Add a link...",value:c,style:{width:400},onChange:function(e){return r(e.target.value)}})}),Object(T.jsxs)(u.Row,{children:[Object(T.jsxs)(u.Select,{id:"typeSelect",multiple:!1,onChange:function(){},options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"Inspiration",children:[Object(T.jsx)("option",{value:"inspiration",children:"Inspiration"}),Object(T.jsx)("option",{value:"research",children:"Research"}),Object(T.jsx)("option",{value:"video",children:"Video"})]}),Object(T.jsx)(u.Button,{className:"orange darken-3",onClick:function(t){var n=document.querySelector("#typeSelect");t.preventDefault(),j(n.options[n.selectedIndex].value),R({url:c,type:l},e.bid).then((function(e){e.data?(s.a.toast({html:"Link saved!"}),r("")):s.a.toast({html:"Hmm, looks like there was an error saving that link. Try again."})})).catch((function(e){return console.error(e)}))},children:"Save"})]})]})};var Z=function(){var e=H(),t=(e.state,e.dispatch),n=Object(a.useState)(),c=Object(d.a)(n,2),r=c[0],o=c[1],i=Object(l.g)().bid,j=Object(a.useState)(),b=Object(d.a)(j,2),f=b[0],g=b[1],v=Object(a.useState)(),w=Object(d.a)(v,2),N=w[0],C=w[1],S=Object(a.useState)(""),k=Object(d.a)(S,2),B=k[0],I=k[1],R=Object(l.f)();return Object(a.useEffect)((function(){O(i).then((function(e){g(e.data),h(e.data.UserId).then((function(e){C(e.data)})).catch((function(e){return console.error(e)})),p(e.data.UserId).then((function(e){o(e.data)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}),[i]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{currentUserBoards:N,handleBoardSelect:function(e){var n=e.target.id;O(n).then((function(e){t({type:"setCurrentBoard",payload:e.data})})).then((function(){R.push("/boards/".concat(n))})).catch((function(e){return console.error(e)}))},handleNewBoard:function(e){e.preventDefault(),m(r.id).then((function(e){console.log(e),t({type:"setCurrentUser",payload:r}),R.push("/boards/new/".concat(e.data.id))})).catch((function(e){return console.error(e)}))},handleLogout:function(e){e.preventDefault(),R.push("/")}}),f?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(u.Row,{children:[Object(T.jsx)(u.Col,{s:12,l:6,children:Object(T.jsx)("div",{id:"newBoardName",children:Object(T.jsx)(u.TextInput,{style:{width:500},id:"name",label:"Board Name",name:"boardName",placeholder:"New Board",value:B,onChange:function(e){return I(e.target.value)}})})}),Object(T.jsx)(u.Col,{s:12,l:6,children:Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)(u.Button,{className:"orange darken-3",onClick:function(e){e.preventDefault(),""===B?s.a.toast({html:"Looks like your board doesn't have a name..."}):x(parseInt(f.id),{name:B}).then((function(e){console.log(e),s.a.toast({html:"".concat(B," saved!")}),t({type:"setCurrentBoard",payload:f}),R.push("/boards/".concat(f.id))}))},children:["Save ",B]})})})]}),Object(T.jsxs)(u.Row,{children:[Object(T.jsxs)(u.Col,{l:6,s:12,children:[Object(T.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(T.jsx)("span",{className:"white-text",children:"Add Personal Images (.jpeg, or .png)"})}),Object(T.jsx)(K,{bid:f.id,boardName:B}),Object(T.jsxs)(u.Row,{children:[Object(T.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(T.jsx)("span",{className:"white-text",children:"Add Inspiration, Research, or Video Links from the web"})}),Object(T.jsx)(Y,{bid:f.id})]})]}),Object(T.jsx)(Q,{handleImgSave:function(e){e.preventDefault(),e.persist();var t=e.target.parentNode.parentNode.getAttribute("id");y({img:t,bid:f.id}).then((function(t){t.data?(s.a.toast({html:"Image saved to ".concat(B," successfully!")}),e.target.parentNode.parentNode.style.opacity="0.2",e.target.style.visibility="hidden"):s.a.toast({html:"Hmm, we ran into an issue saving that image. Please try again."})})).catch((function(e){return console.error(e)}))}})]})]}):Object(T.jsx)("p",{children:"Finding that board..."})]})};var $=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(u.TextInput,{style:{width:300},id:"newTag",label:"Add a new tag to ".concat(e.boardName,"..."),onChange:function(e){return r(e.target.value)}}),Object(T.jsx)(u.Button,{className:"red",floating:!0,icon:Object(T.jsx)(u.Icon,{children:"add"}),small:!0,node:"button",waves:"light",onClick:function(t){t.preventDefault(),k(e.boardID,{text:c}).then((function(){window.location.reload()})).catch((function(e){return console.error(e)}))}})]})};var ee=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){B(e.boardID).then((function(e){r(e.data)})).catch((function(e){return console.error(e)}))}),[e.boardID]);var o=function(e){e.preventDefault(),I(e.target.getAttribute("id")).then((function(e){console.log(e),window.location.reload()})).catch((function(e){return console.error(e)}))};return Object(T.jsx)("div",{children:c?c.map((function(e){return Object(T.jsxs)(u.Badge,{className:"red white-text",children:[e.tagName,Object(T.jsx)(u.Button,{id:e.id,className:"deleteTag",flat:!0,waves:"light",onClick:o,children:Object(T.jsx)(u.Icon,{id:e.id,children:"close"})})]},e.id)})):Object(T.jsxs)("p",{children:["Loading tags for ",e.boardName]})})};var te=function(){var e=H(),t=(e.state,e.dispatch),n=Object(l.g)().bid,c=Object(a.useState)(),r=Object(d.a)(c,2),o=r[0],i=r[1],j=Object(a.useState)(),b=Object(d.a)(j,2),f=b[0],g=b[1],v=Object(a.useState)(),k=Object(d.a)(v,2),B=k[0],I=k[1],R=Object(a.useState)(),P=Object(d.a)(R,2),U=P[0],E=P[1],A=Object(a.useState)([]),F=Object(d.a)(A,2),V=F[0],q=F[1],z=Object(a.useState)(),_=Object(d.a)(z,2),W=_[0],G=_[1],M=Object(a.useState)(),X=Object(d.a)(M,2),Z=X[0],te=X[1],ne=Object(a.useState)(""),ae=Object(d.a)(ne,2),ce=ae[0],re=ae[1],oe=Object(a.useState)(!1),se=Object(d.a)(oe,2),ie=se[0],le=se[1],de=Object(l.f)();Object(a.useEffect)((function(){O(n).then((function(e){i(e.data),I(e.data.UserId),h(e.data.UserId).then((function(e){g(e.data)})).catch((function(e){return console.error(e)})),p(e.data.UserId).then((function(e){E(e.data)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)})),w(n).then((function(e){q(e.data)})).catch((function(e){return console.error(e)})),C(n).then((function(e){G(e.data)})).catch((function(e){return console.error(e)})),D(n).then((function(e){te(e.data)})).catch((function(e){return console.error(e)}))}),[n]);var ue=function(e){e.preventDefault(),e.persist();var t=e.target.getAttribute("id");N(t).then((function(t){console.log(t),e.target.parentNode.classList.add("disabled"),s.a.toast({html:"Upload deleted!"})})).catch((function(e){return console.error(e)}))},je=function(e){e.preventDefault(),e.persist();var t=e.target.getAttribute("id");S(t).then((function(t){console.log(t),e.target.parentNode.classList.add("disabled"),s.a.toast({html:"Image deleted!"})})).catch((function(e){return console.error(e)}))},be=function(e){e.preventDefault(),e.stopPropagation(),e.persist();var t=e.target.getAttribute("id");L(t).then((function(t){console.log(t),e.target.parentNode.classList.add("disabled"),s.a.toast({html:"Link deleted!"})})).catch((function(e){return console.error(e)}))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{currentUserBoards:f,handleBoardSelect:function(e){var n=e.target.id;O(n).then((function(e){t({type:"setCurrentBoard",payload:e.data})})).then((function(){de.push("/boards/".concat(n))})).catch((function(e){return console.error(e)}))},handleNewBoard:function(){p(B).then((function(e){E(e.data)})).then((function(){m(B).then((function(e){t({type:"setCurrentUser",payload:U}),de.push("/boards/new/".concat(e.data.id))})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))},handleLogout:function(e){e.preventDefault(),de.push("/")}}),Object(T.jsx)(u.Row,{children:o?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{id:"boardViewName",children:Object(T.jsx)("h2",{children:o.name})}),Object(T.jsx)("div",{id:"boardViewRename",children:Object(T.jsx)("h4",{children:Object(T.jsx)(u.TextInput,{id:"updateBoardName",value:ce,onChange:function(e){return re(e.target.value)}})})}),Object(T.jsx)(u.Button,{onClick:function(e){e.preventDefault(),e.persist(),document.querySelectorAll(".deleteImgBtn").forEach((function(e){return e.style.display="inline"})),document.querySelectorAll(".deleteUploadBtn").forEach((function(e){return e.style.display="inline"})),document.querySelectorAll(".deleteLinkBtn").forEach((function(e){return e.style.display="inline"})),document.querySelector("#boardViewRename").style.display="inline",document.querySelector("#boardSaveBtn").style.display="inline",e.target.style.display="none",le(!0)},children:"Edit"}),Object(T.jsx)(u.Button,{className:"red darken-2",id:"boardSaveBtn",onClick:function(e){e.preventDefault(),""!==ce?x(o.id,{name:ce}).then((function(e){e.data&&window.location.reload()})).catch((function(e){return console.error(e)})):window.location.reload()},children:"Save"})]}):Object(T.jsx)("p",{children:"Finding that board..."})}),Object(T.jsxs)(u.Row,{children:[Object(T.jsx)(u.Col,{s:12,l:8,children:V?V.map((function(e){return Object(T.jsx)(u.Card,{actions:[Object(T.jsx)(u.Button,{id:e.id,className:"red deleteUploadBtn",onClick:ue,icon:Object(T.jsx)(u.Icon,{id:e.id,children:"delete"}),alt:"Remove this upload",node:"button",waves:"light"},e.id)],header:Object(T.jsx)(u.CardTitle,{image:e.url}),horizontal:!0,className:"hoverable boardViewUpload",children:"Tags:"},e.id)})):Object(T.jsx)("h4",{children:"Loading uploads..."})}),Object(T.jsxs)(u.Col,{s:12,l:4,children:[Object(T.jsx)(u.Row,{children:W?W.map((function(e){return Object(T.jsx)(u.Card,{actions:[Object(T.jsx)(u.Button,{id:e.id,className:"red deleteImgBtn",onClick:je,icon:Object(T.jsx)(u.Icon,{id:e.id,children:"delete"}),alt:"Remove this image",node:"button",waves:"light"},e.id)],header:Object(T.jsx)(u.CardTitle,{image:e.url}),horizontal:!0,className:"hoverable boardViewImg"},e.id)})):Object(T.jsx)("h4",{children:"Loading images..."})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.Collection,{header:"Links",children:Z?Z.map((function(e){return Object(T.jsxs)(u.CollectionItem,{href:e.url,target:"_blank",children:[e.url," - ",e.type,Object(T.jsx)(u.Button,{id:e.id,className:"deleteLinkBtn",onClick:be,icon:Object(T.jsx)(u.Icon,{id:e.id,children:"delete"}),alt:"Remove this link",node:"button",waves:"light"})]},e.id)})):Object(T.jsx)("div",{children:Object(T.jsx)("p",{children:"Loading links..."})})})}),Object(T.jsx)(u.Row,{children:o?Object(T.jsxs)("div",{id:"currentBoardTags",children:[Object(T.jsx)("h4",{children:"Tags"}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(ee,{boardID:o.id,boardName:o.name})}),Object(T.jsx)(u.Row,{children:Object(T.jsx)($,{boardID:o.id,boardName:o.name})})]}):Object(T.jsx)("p",{children:"Loading tags..."})})]})]}),ie?Object(T.jsxs)(u.Row,{children:[Object(T.jsxs)(u.Col,{l:6,s:12,children:[Object(T.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(T.jsx)("span",{className:"white-text",children:"Add Personal Images (.jpeg, or .png)"})}),Object(T.jsx)(K,{bid:o.id,boardName:o.name}),Object(T.jsxs)(u.Row,{children:[Object(T.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(T.jsx)("span",{className:"white-text",children:"Add Inspiration, Research, or Video Links from the web"})}),Object(T.jsx)(Y,{bid:o.id})]})]}),Object(T.jsx)(Q,{handleImgSave:function(e){e.preventDefault(),e.persist();var t=e.target.parentNode.parentNode.getAttribute("id");y({img:t,bid:o.id}).then((function(t){t.data?(s.a.toast({html:"Image saved to ".concat(o.name," successfully!")}),e.target.parentNode.parentNode.style.opacity="0.2",e.target.style.visibility="hidden"):s.a.toast({html:"Hmm, we ran into an issue saving that image. Please try again."})})).catch((function(e){return console.error(e)}))}})]}):Object(T.jsx)("div",{})]})};var ne=function(){var e=H(),t=e.state,n=e.dispatch,c=t[0].user,r=Object(a.useState)(),o=Object(d.a)(r,2),s=o[0],i=o[1],j=Object(l.f)();return Object(a.useEffect)((function(){h(c.id).then((function(e){i(e.data)})).catch((function(e){return console.error(e)}))}),[c.id]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{currentUserBoards:s,handleBoardSelect:function(e){var t=e.target.id;O(t).then((function(e){n({type:"setCurrentBoard",payload:e.data})})).then((function(){j.push("/boards/".concat(t))})).catch((function(e){return console.error(e)}))},handleNewBoard:function(){m(c.id).then((function(e){console.log(e),n({type:"setCurrentUser",payload:c}),j.push("/boards/new/".concat(e.data.id))})).catch((function(e){return console.error(e)}))},handleLogout:function(e){e.preventDefault(),n({type:"logoutUser",payload:""}),j.push("/")}}),Object(T.jsx)(u.Row,{children:Object(T.jsx)(u.Col,{m:6,s:12,children:Object(T.jsx)(u.CardPanel,{className:"teal darken-3",children:Object(T.jsxs)("span",{className:"white-text",children:["Welcome back to Vision Boarder, ",c.firstName,". Select a board or click Create New Board to get started."]})})})})]})};var ae=function(){return Object(T.jsx)("div",{children:Object(T.jsx)(_,{children:Object(T.jsx)(i.a,{children:Object(T.jsxs)(l.c,{children:[Object(T.jsx)(l.a,{exact:!0,path:"/",children:Object(T.jsx)(U,{})}),Object(T.jsx)(l.a,{path:"/login",children:Object(T.jsx)(W,{})}),Object(T.jsx)(l.a,{path:"/users/:userName",children:Object(T.jsx)(ne,{})}),Object(T.jsx)(l.a,{path:"/boards/new/:bid",children:Object(T.jsx)(Z,{})}),Object(T.jsx)(l.a,{path:"/boards/:bid",children:Object(T.jsx)(te,{})})]})})})})};r.a.render(Object(T.jsx)(ae,{}),document.getElementById("root"))},68:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.fc1fb225.chunk.js.map